let customers = [{
    name: "Kadin Herwitz",
    number: 1629890939,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "270.00",
    deposit: "500.00",
    status: "ACTIVE",
}, {
    name: "Cristofer Korsgaard",
    number: 1629890940,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "00.00",
    deposit: "500.00",
    status: "ACTIVE",
}, {
    name: "Omar Workman",
    number: 1629890941,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "-270.00",
    deposit: "500.00",
    status: "ACTIVE",
}, {
    name: "Ahmed Oudouh",
    number: 1629890942,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "-270.00",
    deposit: "500.00",
    status: "ACTIVE",
}, {
    name: "Mira Dokidis",
    number: 1629890943,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "-270.00",
    deposit: "500.00",
    status: "INACTIVE",
}, {
    name: "Jakob Bergson",
    number: 1629890945,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "270.00",
    deposit: "500.00",
    status: "INACTIVE",
}, {
    name: "Carter Rosser",
    number: 1629890944,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "-270.00",
    deposit: "500.00",
    status: "INACTIVE",
}, {
    name: "Miracle Septimus",
    number: 1629890000,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "-270.00",
    deposit: "500.00",
    status: "INACTIVE",
}, {
    name: "horya zdag",
    number: 1629890946,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "-270.00",
    deposit: "500.00",
    status: "INACTIVE",
}, {
    name: "csa lopa",
    number: 1629890949,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "270.00",
    deposit: "500.00",
    status: "INACTIVE",
}, {
    name: "popiya olt",
    number: 1629890950,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "-270.00",
    deposit: "500.00",
    status: "INACTIVE",
}, {
    name: "sanaa docm",
    number: 1629890951,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "270.00",
    deposit: "500.00",
    status: "INACTIVE",
}, {
    name: "xxxtination olm",
    number: 5529890951,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "-270.00",
    deposit: "500.00",
    status: "INACTIVE",
}, {
    name: "malak mala",
    number: 1629890953,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "270.00",
    deposit: "500.00",
    status: "INACTIVE",
}, {
    name: "hala cpm",
    number: 1688890953,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "270.00",
    deposit: "500.00",
    status: "ACTIVE",
    status: "INACTIVE",
}, {
    name: "folo son",
    number: 1629890955,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "00.00",
    deposit: "500.00",
    status: "ACTIVE",
}, {
    name: "sonds mala",
    number: 1629890956,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "270.00",
    deposit: "500.00",
    status: "INACTIVE",

}, {
    name: "wisla lca",
    number: 1629890777,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "270.00",
    deposit: "500.00",
    status: "INACTIVE",
}, {
    name: "salah mbo",
    number: 1629890957,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "270.00",
    deposit: "500.00",
    status: "ACTIVE",
}, {
    name: "fouad dauof",
    number: 1629890959,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "-270.00",
    deposit: "500.00",
    status: "ACTIVE",
}, {
    name: "salma sodo",
    number: 1629890960,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "270.00",
    deposit: "500.00",
    status: "ACTIVE",
}, {
    name: "asai sdom",
    number: 1629890973,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "-270.00",
    deposit: "500.00",
    status: "INACTIVE",
}, {
    name: "malika xqa",
    number: 1629890974,
    description: "06132980",
    rate: "70.00",
    inr: "INR",
    balance: "270.00",
    deposit: "500.00",
    status: "INACTIVE",
}, {
    name: "hicham xdas",
    number: 16298906,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "00,00",
    deposit: "500.00",
    status: "INACTIVE",
}, {
    name: "sads xdas",
    number: 1629890976,
    description: "Lorem ipsum dolor sit amet, consectetur...",
    rate: "70.00",
    inr: "INR",
    balance: "00,00",
    deposit: "500.00",
    status: "INACTIVE",
}];

const nameElement = document.getElementById("name-add-customer");
const numberElement = document.getElementById("number-add-customer");
const nameA = document.getElementById("name");
const number = document.getElementById("number");
const description = document.getElementById("description");
const deposit = document.getElementById("deposit");
const balance = document.getElementById("balance");
const currency = document.getElementById("currency");
const statusA = document.getElementById("status");
const rate = document.getElementById("rate");
const descriptionElement = document.getElementById("description-add-customer");
const rateElement = document.getElementById("rate-add-customer");
const balanceElement = document.getElementById("balance-add-customer");
const depositElement = document.getElementById("deposit-add-customer");
const activeInactiveElement = document.getElementById("active-inactive");
const currencyElement = document.getElementById("currency");
const check = document.querySelectorAll(".error");
//const inputAdd = document.querySelectorAll(".inputAdd");
const submitButton = document.getElementById("submit");
const errorName = document.getElementById("error-name");
const form = document.getElementById('form');
let emptyInput = Array.from(document.querySelectorAll('.input-saerch'));
let noticeElement = document.getElementById("notice");
//let inputsElements = document.querySelectorAll(".inputAdd")
let inputsElements = Array.from(document.querySelectorAll(".inputAdd"))
let Update = document.getElementById("Update")
let successfulElement = document.getElementById("successful")

function myFunction(a) {
    successfulElement.innerText = a;
    setTimeout(function() {

        noticeElement.className = "notice-none";
    }, 3000);
}

function styleDisplay(index) {
    icon.style.display = "block";
    //saveToLocal(newObject)
    localStorage.setItem('Local', JSON.stringify(customers));
    let tdClass = document.querySelectorAll(".tdClass")
    console.log(tdClass)
    tdClass[index].classList.add("tdClasss")
    setTimeout(function() {
        tdClass[index].classList.remove("tdClasss")
    }, 3000);
    emptyInput.forEach((field) => {
        field.value = ""
    })
    activeInactiveElement.value = "status"
    currency.value = "currency"
    icon.style.display = "none";
    styleProgress.style.display = "none";
    //
}

function checkall() {
    checkName(nameElement)
    checkNumber(numberElement)
    checkDescription(descriptionElement)
    checkRate(rateElement)
    checkBalance(balanceElement)
    checkDeposit(depositElement)
    checkStatuts(activeInactiveElement)
    checkCurrency(currencyElement)
}
form.addEventListener('submit', e => {
    e.preventDefault();
    checkInputs();
    myFunction("Customer Submitted Successful")
});
Update.addEventListener('click', e => {
    e.preventDefault();
    checkall()
    table.addEventListener("click", (e) => {
        let allRows = Array.from(document.querySelectorAll(".tdClass"))
        console.log(allRows)
        if (e.target.id === "edit") {
            let element = e.target.closest("tr")
            dds = allRows.indexOf(element)
            console.log(dds)
            let removed = customers.splice(dds, 1)
            render(customers)
            nameElement.value = element.querySelector(".customr-name").innerText
            numberElement.value = element.querySelector(".customr-number").innerText
            descriptionElement.value = element.querySelector(".paragraphUpdate").innerText
            rateElement.value = element.querySelector(".rateUpdate").innerText
            balanceElement.value = element.querySelector(".balanceUpdate").innerText
            depositElement.value = element.querySelector(".depositUpdate").innerText
            activeInactiveElement.value = element.querySelector(".statusUpdate ").innerText
            currencyElement.value = element.querySelector(".inr").innerText
            icon.style.display = "none";
            style.style.display = "block"
            submitButton.style.display = "none"
            Update.style.display = "block"
            styleProgress.style.display = "block";
            //Exit.style.display = "none"
            checkName(nameElement)
            progress(0)
            checkNumber(numberElement)
            progress(1)
            checkDescription(descriptionElement)
            progress(2)
            checkRate(rateElement)
            progress(3)
            checkBalance(balanceElement)
            progress(4)
            checkDeposit(depositElement)
            progress(5)
            checkStatuts(activeInactiveElement)
            progress(6)
            checkCurrency(currencyElement)
            progress(7)
        };
    });

    if (inputsElements.every(field => field.classList.contains("border-color-green"))) {
        test = []
        updateProgress()
        var newObject = {};
        newObject.name = nameElement.value
        newObject.number = numberElement.value
        newObject.description = descriptionElement.value
        newObject.rate = rateElement.value
        newObject.balance = balanceElement.value
        newObject.deposit = depositElement.value
        newObject.inr = currencyElement.value
        newObject.status = activeInactiveElement.value
        customers.splice(dds, 0, (newObject))
        render(customers)
        inputsElements.forEach((field) => {
            field.classList.remove("border-color-green")
        })
        noticeElement.className = "notice"
        styleDisplay(dds)
        myFunction("Customer Updetted Successful")
        scroll(0, 800)
    };
})

function unique(value) {
    var boolean = false
    customers.forEach((elementArray) => {
        if (elementArray.number == value || elementArray.name === value) {
            boolean = true
        }
    });
    return boolean
}
let test = []

function progress(index) {
    var boolean = inputsElements[index].classList.contains("border-color-green")
    if (boolean) {
        if (!test.includes(index)) {
            test.push(index)
            styleProgress.style.display = "block"
        }
    } else if (test.includes(index)) {
        let result = test.indexOf(index)
        test.splice(result, 1)
    }
    updateProgress();
}

//checkName
nameElement.addEventListener("input", () => {
    checkName(nameElement)
    progress(0)
})
nameElement.addEventListener("blur", () => {
    progress(0)
})

function checkName(nameinput) {
    if (unique(nameinput.value)) {
        setErrorFor(nameinput, 'customer name already exists!');
    } else if (nameinput.value === '') {
        setErrorFor(nameinput, 'name is required !');
    } else if (!nameinput.value.match("[a-z A-Z]+$")) {
        setErrorFor(nameinput, 'customer name must be string');
    } else {
        setSuccessFor(nameinput);
    }
}

//checkNumber
numberElement.addEventListener("input", () => {
    checkNumber(numberElement)
    progress(1)
});
numberElement.addEventListener("blur", () => progress(1));

function checkNumber(namberinput) {
    if (unique(namberinput.value)) {
        setErrorFor(namberinput, 'customer number already exists!');
    } else if (namberinput.value === '') {
        setErrorFor(namberinput, 'number is required!!');
    } else if (namberinput.value.match("[a-z A-Z]+$")) {
        setErrorFor(namberinput, 'customer number must be number');
    } else if (namberinput.value.length !== 10) {
        setErrorFor(namberinput, 'cleint Number should be 10 digits!');
    } else {
        setSuccessFor(namberinput)
    }
}
//checkDescription
descriptionElement.addEventListener("input", () => {
    checkDescription(descriptionElement)
    progress(2)
});
descriptionElement.addEventListener("blur", () => progress(2));

function checkDescription(descriptioninput) {
    if (descriptioninput.value === '') {
        setErrorFor(descriptioninput, 'description is required!');
    } else if (descriptioninput.value.length <= 10) {
        setErrorFor(descriptioninput, 'description should have 10 characters!');
    } else {
        setSuccessFor(descriptioninput)
    }
}
//checkRate
rateElement.addEventListener("input", () => {
    checkRate(rateElement)
    progress(3)
});
rateElement.addEventListener("blur", () => progress(3));

function checkRate(rateinput) {
    if (rateinput.value === '') {
        setErrorFor(rateinput, 'rate is required!');
    } else if (rateinput.value.match("^[a-z A-Z]+$")) {
        setErrorFor(rateinput, 'customer rate must be number!');
    } else {
        setSuccessFor(rateinput)
    }
}
//checkBalance
balanceElement.addEventListener("input", () => {
    checkBalance(balanceElement)
    progress(4)
});
balanceElement.addEventListener("blur", () => progress(4));

function checkBalance(balanceinput) {
    if (balanceinput.value === '') {
        setErrorFor(balanceinput, 'balance is required!');
    } else if (balanceinput.value.match("^[a-z A-Z]+$")) {
        setErrorFor(balanceinput, 'customer balance must be number!');
    } else {
        setSuccessFor(balanceinput)
    }
}
//checkDeposit
depositElement.addEventListener("input", () => {
    checkDeposit(depositElement)
    progress(5)
});
depositElement.addEventListener("blur", () => progress(5));

function checkDeposit(depositElement) {
    if (depositElement.value === '') {
        setErrorFor(depositElement, 'deposit is required!');
    } else if (depositElement.value.match("^[a-z A-Z]+$")) {
        setErrorFor(depositElement, 'customer deposit must be number!');
    } else {
        setSuccessFor(depositElement)
    }
}
//checkStatuts
activeInactiveElement.addEventListener("change", () => {
    checkStatuts(activeInactiveElement)
    progress(6)
});
activeInactiveElement.addEventListener("blur", () => progress(6));

function checkStatuts(statuts) {
    if (statuts.value === "") {
        setErrorFor(statuts, 'status is required!');
    } else {
        setSuccessFor(statuts)
    }
}
//checkCurrency
currencyElement.addEventListener("change", () => {
    checkCurrency(currencyElement)
    progress(7)

});
currencyElement.addEventListener("blur", () => progress(7));

function checkCurrency(currency) {
    if (currency.value === "") {
        setErrorFor(currency, 'currency is required!');
    } else {
        setSuccessFor(currency)
    }
}
let style = document.getElementById("form-progress")

function checkInputs() {
    checkName(nameElement)
    checkNumber(numberElement)
    checkDescription(descriptionElement)
    checkRate(rateElement)
    checkBalance(balanceElement)
    checkDeposit(depositElement)
    checkStatuts(activeInactiveElement)
    checkCurrency(currencyElement)

    let newObject = {};
    newObject.name = nameElement.value
    newObject.number = numberElement.value
    newObject.description = descriptionElement.value
    newObject.rate = rateElement.value
    newObject.balance = balanceElement.value
    newObject.deposit = depositElement.value
    newObject.inr = currencyElement.value
    newObject.status = activeInactiveElement.value
        // let inputs = Array.from(inputsElements)
    if (inputsElements.every(field => field.classList.contains("border-color-green"))) {
        test = []
        updateProgress()
        customers.unshift(newObject)
        render(customers)
        inputsElements.forEach((field) => {
            field.classList.remove("border-color-green")
        })
        noticeElement.className = "notice"
            /*
        setTimeout(function() {
            noticeElement.className = "notice-none"
        }, 3000);
        
        */
        myFunction()
            // myFunction(ss)
        icon.style.display = "block";
        //saveToLocal(newObject)
        localStorage.setItem('Local', JSON.stringify(customers));
        let tdClass = document.querySelectorAll(".tdClass")
        console.log(tdClass)
        tdClass[0].classList.add("tdClasss")
        setTimeout(function() {
            tdClass[0].classList.remove("tdClasss")
        }, 3000);
        emptyInput.forEach((field) => {
            field.value = ""
        })
        scroll(0, 400)
    }
}

function setErrorFor(input, message) {
    const small = input.nextElementSibling
    input.classList.add("border-color")
    input.classList.remove("border-color-green")
    small.innerText = message;
    // let icon = small.nextElementSibling
    //icon.classList = "checked"
}

function setSuccessFor(input) {
    const small = input.nextElementSibling
    input.classList.remove("border-color")
    input.classList.add("border-color-green")
    small.innerText = "";
    // let icon = small.nextElementSibling
    //icon.classList = "checked2"
}

let table = document.getElementById("mytbody");
let rowsOfTable = document.getElementById("mytbody");
let searchElement = document.getElementById("search");
let displayRows = document.getElementById("count-page");
let select = document.getElementById("select");
let previousPage = document.getElementById("arrow-right");
let nextPage = document.getElementById("arrow-left");
let customerStatus = document.getElementById("customer-status");
let elementName = document.getElementById("name-customer");
let arrowDown = document.getElementById("arrow-down");
let arrowUp = document.getElementById("arrow-up");
let arrowUpStatuts = document.getElementById("arrow-up-status");
let arrowDownStatuts = document.getElementById("arrow-down-status");
let lengthArray = document.getElementById("bold");
let lengthStatuts = document.getElementById("lengthArray");



function creatElement(customer) {
    let row = document.createElement("tr");
    row.className = "tdClass"
    row.innerHTML = "";
    let cellInput = document.createElement("td");
    cellInput.innerHTML = '<input type="checkbox"/>';
    cellInput.className = "apdding-left";
    row.appendChild(cellInput);
    //td 2
    let cellName = document.createElement("td");
    row.appendChild(cellName);
    //div
    let divGroupName = document.createElement("div");
    divGroupName.className = "group-customr";
    cellName.appendChild(divGroupName);
    //span
    let cellSpanName = document.createElement("span");
    cellSpanName.className = "customr-name";
    cellSpanName.textContent = customer.name;
    divGroupName.appendChild(cellSpanName);
    //span
    let cellSpanNumber = document.createElement("span");
    cellSpanNumber.className = "customr-number";
    cellSpanNumber.textContent = customer.number;
    divGroupName.appendChild(cellSpanNumber);
    //td 3
    let cellDescription = document.createElement("td");
    row.appendChild(cellDescription);
    //div
    let divDescription = document.createElement("div");
    divDescription.className = "paragraph-customr";
    cellDescription.appendChild(divDescription);
    //span
    let spanDescription = document.createElement("span");
    spanDescription.textContent = customer.description;
    spanDescription.className = "paragraphUpdate";
    divDescription.appendChild(spanDescription);
    //td 4
    let cellRate = document.createElement("td");
    row.appendChild(cellRate);
    //div
    let divCellRateOne = document.createElement("div");
    divCellRateOne.className = "group-customr-b";
    cellRate.appendChild(divCellRateOne);
    //span
    let spanCellRateOne = document.createElement("span");
    spanCellRateOne.className = "number rateUpdate";
    spanCellRateOne.textContent = customer.rate;
    divCellRateOne.appendChild(spanCellRateOne);
    //span
    let spanCellRateTwo = document.createElement("span");
    spanCellRateTwo.className = "inr";
    spanCellRateTwo.textContent = customer.inr;
    divCellRateOne.appendChild(spanCellRateTwo);
    //td 5
    let cellBalance = document.createElement("td");
    row.appendChild(cellBalance);
    //div
    let divCellBalanceOne = document.createElement("div");
    divCellBalanceOne.className = "group-customr-b";
    cellBalance.appendChild(divCellBalanceOne);
    //span
    let spanCellBalanceOne = document.createElement("span");
    spanCellBalanceOne.className = "number balanceUpdate color-original";
    spanCellBalanceOne.textContent = customer.balance;
    divCellBalanceOne.appendChild(spanCellBalanceOne);
    //
    if (customer.balance > 0) {
        spanCellBalanceOne.className = "color-green number";
    }
    if (customer.balance < 0) {
        spanCellBalanceOne.className = "color-red number";
    }
    //span
    let spanCellBalanceTwo = document.createElement("span");
    spanCellBalanceTwo.className = "inr";
    spanCellBalanceTwo.textContent = customer.inr;
    divCellBalanceOne.appendChild(spanCellBalanceTwo);
    //
    let cellDeposit = document.createElement("td");
    row.appendChild(cellDeposit);
    //div
    let divCellDepositOne = document.createElement("div");
    divCellDepositOne.className = "group-customr-b";
    cellDeposit.appendChild(divCellDepositOne);
    //span
    let spanCellDepositOne = document.createElement("span");
    spanCellDepositOne.className = "number depositUpdate";
    spanCellDepositOne.textContent = customer.deposit;
    divCellDepositOne.appendChild(spanCellDepositOne);
    //span
    let spanCellDepositTwo = document.createElement("span");
    spanCellDepositTwo.className = "inr";
    spanCellDepositTwo.textContent = customer.inr;
    divCellDepositOne.appendChild(spanCellDepositTwo);
    //td 6
    let cellStatus = document.createElement("td");
    row.appendChild(cellStatus);
    //div
    let divCellStatus = document.createElement("div");
    cellStatus.appendChild(divCellStatus);
    //
    let buttonCellStatus = document.createElement("button");
    buttonCellStatus.className = "ctaActive statusUpdate";
    buttonCellStatus.textContent = customer.status;
    divCellStatus.appendChild(buttonCellStatus);
    //td
    if (customer.status == "INACTIVE") {
        buttonCellStatus.classList.add("active");
    }
    if (customer.status == "ACTIVE") {
        buttonCellStatus.classList.add("inactive");
    }
    //td
    let celldelete = document.createElement("td");
    row.appendChild(celldelete)
        //div
    let divcelldelete = document.createElement("div");
    divcelldelete.className = "deleteFromTd"
    divcelldelete.innerHTML = '<img id="iconDelete"class="icon-delete" src="images/icon.png" />';
    divcelldelete.onclick = () => {
        customers = deleteCustomer(customers, customer.number)
        localStorage.setItem('Local', JSON.stringify(customers));
        render(customers)
    };

    celldelete.appendChild(divcelldelete);
    let divEdit = document.createElement("div");
    divEdit.innerHTML = '<img class="edit" id="edit" src="images/edit.png" />';
    divEdit.onclick = () => {
        customers = deleteCustomer(customers, customer.number)
        localStorage.setItem('Local', JSON.stringify(customers));
        render(customers)
    };
    divEdit.id = "editDiv";
    celldelete.appendChild(divEdit)

    return row;
};

function searchCustomers(customersSearch) {
    let search = searchElement.value.toLowerCase();
    let filtered = customersSearch.filter((customer) => {
        return (customer.name.toLowerCase().includes(search) || customer.description.toLowerCase().includes(search));
    });
    return filtered
};
let statutsOrder = "undefined";
let rowsPage = 5;
let currentPage = 0;
let sortedCustomers;

function sortStauts(sortCustomersStatus, order) {
    sortCustomersStatus.sort((a, b) => {
        if (order === "ascending") {
            if (a.status < b.status) {
                return -1
            }
            return 0
        }
        if (order === "descending") {
            if (a.status > b.status) {
                return -1
            }
            return 0
        }
    });
    return sortCustomersStatus
};
let orderName = "undefined";

function sortarrayName(sortCustomersName, order) {
    sortCustomersName.sort((a, b) => {
        if (order === "ascending") {
            if (a.name.toLowerCase() < b.name.toLowerCase()) {
                return -1
            }
            return 0
        }
        if (order === "descending") {
            if (a.name.toLowerCase() > b.name.toLowerCase()) {
                return -1
            }
            return 0
        }
    });
    return sortCustomersName
};

function deleteCustomer(customerArayOrigin, customerDelete) {
    return customerArayOrigin.filter((customer) => {
        return customer.number !== customerDelete
    });
};

function countaActiveCustomers(array) {
    lengthStatuts.innerText = array.length
    var activeCustomers = []
    for (var i = 0; i < array.length; i++) {
        if (array[i].status == "ACTIVE") {
            activeCustomers.push(array[i])
        }
    };
    lengthArray.innerText = activeCustomers.length
};
render(customers);

function render(customersRender) {
    table.innerHTML = ""
    const searchedCustomers = searchCustomers(customersRender)
    const sortedCustomersName = sortarrayName(searchedCustomers, orderName)
    sortedCustomers = sortStauts(sortedCustomersName, statutsOrder)
    const rendeNextPage = (sortedCustomers.slice(currentPage * rowsPage, (currentPage + 1) * rowsPage))
    countaActiveCustomers(customersRender)
        // console.log(rendeNextPage)
    rendeNextPage.forEach((customer) => {
        const row = creatElement(customer)
        table.appendChild(row)
    });
    displayRows.innerHTML = `${currentPage * rowsPage } - ${(currentPage+1) * rowsPage }
                                    of ${searchedCustomers.length }`;
};
searchElement.addEventListener("keyup", () => {
    render(customers)
});
customerStatus.addEventListener("click", () => {
    if (statutsOrder == "undefined") {
        statutsOrder = "ascending";
        arrowUpStatuts.className = "click-arrow";
        arrowDownStatuts.className = "arrow-down";
    } else if (statutsOrder === "ascending") {
        statutsOrder = "descending";
        arrowDownStatuts.className = "click-arrow-down";
        arrowUpStatuts.className = "arrow-up";
    } else {
        statutsOrder = "undefined";
        arrowUpStatuts.className = "arrow-up";
        arrowDownStatuts.className = "arrow-down";
    }
    render(customers)
});

elementName.addEventListener("click", () => {
    if (orderName == "undefined") {
        arrowUp.className = "click-arrow";
        arrowDown.className = "arrow-down";
        orderName = "ascending";
    } else if (orderName === "ascending") {
        orderName = "descending";
        arrowDown.className = "click-arrow-down";
        arrowUp.className = "arrow-up";
    } else {
        orderName = "undefined";
        arrowUp.className = "arrow-up";
        arrowDown.className = "arrow-down";
    }
    render(customers)
});
//
select.addEventListener("change", (event) => {
    rowsPage = event.target.value
    render(customers)
});

previousPage.addEventListener("click", () => {
    sortedCustomers.length > rowsPage * currentPage ? currentPage += 1 : currentPage = currentPage;
    render(customers)
});
nextPage.addEventListener("click", () => {
    currentPage = currentPage > 2 ? currentPage - 1 : 0;
    render(customers)
});
/*
function saveToLocal(value) {
    if (JSON.parse(localStorage.getItem('Local')) === null) {
        customers;
    } else {
        customers = JSON.parse(localStorage.getItem('Local'))
    }
    customers.unshift(value);
    localStorage.setItem('Local', JSON.stringify(customers));
};
*/

getFromLocal()

function getFromLocal() {
    if (localStorage.getItem('Local') !== null) {
        customers = JSON.parse(localStorage.getItem('Local'))
    }
    render(customers)
};
//
const myProgressBar = document.querySelector(".progress");

function updateProgress() {
    var d = (100 / 8) * test.length
    d = Math.round(d);
    myProgressBar.querySelector(".progress-text").textContent = `${d}%`;
    myProgressBar.querySelector(".progress-fill").style.width = `${d}%`;
}

let icon = document.getElementById("iconAdd")
let styleProgress = document.getElementById("style-progress")
icon.addEventListener("click", () => {
    let progress = document.getElementById("form-progress")
    icon.style.display = "none";
    progress.style.display = "block";
});

let Exit = document.getElementById("Exit")
Exit.addEventListener("click", () => {
    inputsElements.forEach(field => field.nextElementSibling.innerText = " ")
    inputsElements.forEach(field => field.value = "")
    inputsElements.forEach(field => field.classList.remove("border-color"))
    inputsElements.forEach(field => field.classList.remove("border-color-green"))
    test = []
    updateProgress()
    setTimeout(function() {
        styleProgress.style.display = "none";
    }, 3000);
});
let edit = document.getElementById("edit")